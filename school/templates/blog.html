{% extends 'base.html' %}
{% load static %}
{% block title %}
Blog - Book Store
{% endblock %}

{% block content %}
<main class="main">

    <!-- Blog Hero Section -->
    <section id="blog-hero" class="blog-hero section">
        <div class="container" data-aos="fade-up" data-aos-delay="100">
            <div class="blog-grid">

                {% comment %} Featured Post {% endcomment %}
                {% with featured_post=blog_posts.0 %}
                <article class="blog-item featured" data-aos="fade-up">
                    <img src="{% static featured_post.image %}" alt="Blog Image" class="img-fluid">
                    <div class="blog-content">
                        <div class="post-meta">
                            <span class="date">{{ featured_post.date }}</span>
                            <span class="category">{{ featured_post.category }}</span>
                        </div>
                        <h2 class="post-title">
                            <a href="{{ featured_post.url }}" title="{{ featured_post.title }}">{{ featured_post.title }}</a>
                        </h2>
                    </div>
                </article>
                {% endwith %}

                {% comment %} Regular Hero Posts {% endcomment %}
                {% for post in blog_posts|slice:"1:5" %}
                <article class="blog-item" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'100' }}">
                    <img src="{% static post.image %}" alt="Blog Image" class="img-fluid">
                    <div class="blog-content">
                        <div class="post-meta">
                            <span class="date">{{ post.date }}</span>
                            <span class="category">{{ post.category }}</span>
                        </div>
                        <h3 class="post-title">
                            <a href="{{ post.url }}" title="{{ post.title }}">{{ post.title }}</a>
                        </h3>
                    </div>
                </article>
                {% endfor %}

            </div>
        </div>
    </section>

    <!-- Blog Posts Section -->
    <section id="blog-posts" class="blog-posts section">
        <div class="container" data-aos="fade-up" data-aos-delay="100">
            <div class="row gy-4">
                {% for post in blog_posts %}
                <div class="col-lg-4">
                    <article class="position-relative h-100">
                        <div class="post-img position-relative overflow-hidden">
                            <img src="{% static post.image %}" class="img-fluid" alt="Blog Image">
                        </div>

                        <div class="meta d-flex align-items-end">
                            <span class="post-date"><span>{{ post.day }}</span>{{ post.month }}</span>
                            <div class="d-flex align-items-center">
                                <i class="bi bi-person"></i> <span class="ps-2">{{ post.author }}</span>
                            </div>
                            <span class="px-3 text-black-50">/</span>
                            <div class="d-flex align-items-center">
                                <i class="bi bi-folder2"></i> <span class="ps-2">{{ post.category }}</span>
                            </div>
                        </div>

                        <div class="post-content d-flex flex-column">
                            <h3 class="post-title">{{ post.title }}</h3>
                            <a href="{{ post.url }}" class="readmore stretched-link">
                                <span>Read More</span><i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </article>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Pagination Section -->
    <section id="pagination-2" class="pagination-2 section">
        <div class="container">
            <nav class="d-flex justify-content-center" aria-label="Page navigation">
                <ul>
                    <li>
                        <a href="#" aria-label="Previous page">
                            <i class="bi bi-arrow-left"></i>
                            <span class="d-none d-sm-inline">Previous</span>
                        </a>
                    </li>


                    {% if i == current_page %}
                    <li><a href="#" class="active">{{ i }}</a></li>
                    {% elif i == 4 %}
                    <li class="ellipsis">...</li>
                    {% else %}
                    <li><a href="#">{{ i }}</a></li>
                    {% endif %}


                    <li>
                        <a href="#" aria-label="Next page">
                            <span class="d-none d-sm-inline">Next</span>
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </section>

</main>
{% endblock %}